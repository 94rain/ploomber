meta:
  product_class: PostgresRelation
  infer_upstream: False
  extract_product: False

config:
  clients:
    SQLScript: config.get_pg_client
    PostgresRelation: config.get_pg_client


tasks:
  - class: SQLScript
    source: load.sql
    product: [raw, table]

  - class: SQLScript
    source: filter-pg.sql
    name: filter.sql
    product: [filtered, table]
    upstream: [load.sql]

  - class: SQLScript
    source: transform.sql
    product: [transformed, table]
    upstream: [filter.sql]
